{"version":3,"sources":["alerts/actionsAndState.ts","alerts/AlertProvider.ts","services.ts","react-injector/injectServices.tsx","alerts/reducer.ts","alerts/AlertBox.tsx","flagsService/continentList.ts","flagPicker/actionsAndState.ts","flagsService/flagList.ts","common/index.ts","common/extendedStore.ts","flagPicker/flagPicker.ts","flagPicker/gameStateStore.ts","flagPicker/reducer.ts","flagsService/useGame.ts","flagPicker/useFlagPicker.ts","pages/Home/components/CountryAutocomplete.tsx","pages/Home/components/ContinentSelector.tsx","flagsService/playListStore.ts","flagsService/validateFlags.ts","flagsService/templPlayLists.ts","flagsService/usePlayLists.ts","ViewComponents/SelectButton.tsx","flagFilter/actionsAndState.ts","pages/Home/components/PlaySelector.tsx","pages/Home/components/FlagView.tsx","pages/Home/HomePage.tsx","flagFilter/reducer.ts","pages/Playlists/SelectableFlag.tsx","pages/Playlists/SelectableFlagList.tsx","pages/Playlists/PlayListsPage.tsx","flagFilter/useFlagFilter.ts","MainNavbar.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Actions","AlertProvider","listener","variant","message","this","type","Show","Hide","handler","appServiceCollection","alert","services","instances","serviceConstructors","context","createContext","Provider","getService","sc","injectable","serviceCreator","Error","useServices","newProps","useContext","index","length","key","withServices","Component","props","apply","undefined","useService","ServiceContextProvider","children","value","injector","reducer","state","action","show","Continent","initialState","AlertBox","alertService","useReducer","dispatch","useEffect","listen","closeHandler","useCallback","Alert","onClose","dismissible","continents","name","NorthAmerica","displayName","SouthAmerica","Africa","Europe","Asia","Oceania","flags","Pic","Eng","Hun","Loc","pickRandom","max","Math","random","findValIndex","val","list","start","end","min","middle","trunc","getTable","tableName","json","localStorage","getItem","id_generator","data","JSON","parse","clone","item","stringify","extTable","tableData","getKeys","map","e","id","getElementByKey","find","saveElement","element","findIndex","push","setItem","newElement","getAll","isEmpty","pickFlagInternal","flagList","Object","keys","flagsState","chances","total","flag","stats","chanceOldness","numOfPlay","lastPlay","wrong","correct","z","table","getStateForPlay","playList","savedState","set1","Set","flag2","has","flagsNotChanged","lastFlag","version","numOfCorrect","numOfWrong","reduce","flagCollection","initGameState","gameState","newState","IncrementCorrect","IncrementWrong","PickFlag","Reset","empty","useGame","selected","currentId","incrementCorrect","incrementWrong","pickFlag","useFlagPicker","useState","guessStep","setGuessStep","input","setInput","continent","setContinent","flagInfo","pickNew","hide","guess","evt","preventDefault","CountryAutocomplete","onValueChanged","ref","useRef","changeHandler","selections","current","clear","caseSensitive","ignoreDiacritics","options","placeholder","highlightOnlyResult","onChange","labelKey","labelFormatter","align","maxResults","flip","option","ContinentSelector","memo","className","onContinentSelected","onChangeHandler","target","newContinent","Row","Col","as","xs","Form","Control","checked","idGeneratorKey","startsWith","removeItem","playListStore","getPlayListKeys","getPlayList","savePlayList","validateFlags","selectedFlags","invalidFlags","expand","flagNames","result","indexOf","tempBackend","invalids","generateList","extract","SelectButton","onSelected","selectHandler","Button","onClick","PlaySelector","selectedChanged","plList","setPlList","setSelected","selectPlay","selectedId","useStaticFlagList","md","FlagView","src","alt","HomePage","span","order","onSubmit","InputGroup","Append","initFlagFilter","searchText","filteredFlags","filterFlags","lower","toLowerCase","filter","ChangeFilter","ResetFilter","SetFlags","SelectableFlag","onFlagChecked","handleChecked","lg","Card","Img","loading","Body","Title","SelectableFlagList","PlayListsPage","setter","changed","setChanged","flagCheckedHandler","newFlag","newSelected","slice","nameChanged","newElementHandler","selectElement","selectedElement","saveHandler","newList","newSelect","usePlayList","useFlagFilter","searchTextChangeHandler","inline","Group","Label","plaintext","readOnly","MainNavbar","Navbar","bg","sticky","collapseOnSelect","Brand","Link","to","Toggle","aria-controls","Collapse","Nav","NavLink","exact","eventKey","App","Container","role","fluid","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92002b98.chunk.js","sourcesContent":["import { Action } from \"../common\";\r\n\r\nexport enum Actions {\r\n  Show = \"alerts.Show\",\r\n  Hide = \"alerts.Hide\"\r\n}\r\n\r\nexport interface ShowAction extends Action<typeof Actions.Show> {\r\n  variant: string;\r\n  message: string;\r\n}\r\n\r\nexport interface HideAction extends Action<typeof Actions.Hide> {\r\n\r\n}\r\n\r\nexport type AlertActions = ShowAction | HideAction;\r\n\r\nexport interface AlertState {\r\n  show: boolean;\r\n  variant: string;\r\n  message: string;\r\n}\r\n","import { Dispatch } from \"react\";\r\nimport { Actions, AlertActions } from \"./actionsAndState\";\r\n\r\nexport class AlertProvider {\r\n\r\n  private listener: Dispatch<AlertActions> | null = null;\r\n\r\n  show(variant: string, message: string) {\r\n    if (this.listener === null)\r\n      return;\r\n    this.listener({ type: Actions.Show, variant, message });\r\n  }\r\n\r\n  hide() {\r\n    if (this.listener === null)\r\n      return;\r\n    this.listener({ type: Actions.Hide });\r\n  }\r\n\r\n  listen(handler: Dispatch<AlertActions> | null) {\r\n    this.listener = handler;\r\n  }\r\n}\r\n","import { AlertProvider } from \"./alerts\";\r\nimport { injector } from \"./react-injector\";\r\n\r\nexport const appServiceCollection = {\r\n  alert: () => new AlertProvider()\r\n};\r\n\r\nexport const { withServices, useService, useServices, ServiceContextProvider } = injector(appServiceCollection);\r\n\r\n","import { ComponentType, createContext, FunctionComponent, PropsWithChildren, useContext } from \"react\";\r\n\r\nexport type ServiceCreator = () => any;\r\n\r\nexport interface ServiceCollection {\r\n  [key: string]: ServiceCreator;\r\n}\r\n\r\nexport interface ServiceProviderProps<SC extends ServiceCollection> {\r\n  services?: SC;\r\n}\r\n\r\n/**\r\n * Creates the dependency injection container. Use like this:\r\n *\r\n * ```ts\r\n * export const { withServices, useService, useServices, ServiceProvider } = injector(services);\r\n * ```\r\n * @param services Collection of the service creators.\r\n */\r\nexport function injector<SC extends ServiceCollection>(services: SC) {\r\n  const instances: any = {};\r\n  const serviceConstructors = services;\r\n\r\n  const context = createContext(services);\r\n  const Provider = context.Provider;\r\n\r\n  function getService(sc: SC, injectable: string): any {\r\n    if (typeof instances[injectable] === \"undefined\") {\r\n      const serviceCreator = sc[injectable];\r\n      if (typeof serviceCreator !== \"function\") {\r\n        throw new Error(`the service '${injectable}' must be a function`);\r\n      }\r\n      instances[injectable] = serviceCreator();\r\n    }\r\n    return instances[injectable];\r\n  }\r\n\r\n  function useService<S extends Extract<keyof SC, string>>(injectable: S): ReturnType<SC[S]> {\r\n    const sc = useContext(context);\r\n    return getService(sc, injectable);\r\n  }\r\n\r\n  function useServices<S extends Extract<keyof SC, string>>(...injectable: S[]): { [key in S]: ReturnType<SC[key]> } {\r\n    const newProps: any = {};\r\n    const sc = useContext(context);\r\n    for (let index = 0; index < injectable.length; index++) {\r\n      const key = injectable[index];\r\n      newProps[key] = getService(sc, key);\r\n    }\r\n    return newProps;\r\n  }\r\n\r\n  function withServices<S extends Extract<keyof SC, string>>(...injectable: S[]) {\r\n\r\n    return function componentInjector<P extends { [key in S]: ReturnType<SC[key]> }>(Component: ComponentType<P>): ComponentType<Omit<P, S>> {\r\n\r\n      function ComponentWithServices(props: PropsWithChildren<Omit<P, S>>) {\r\n        const newProps: any = {\r\n          ...props,\r\n          ...useServices.apply(undefined, injectable)\r\n        };\r\n        return <Component {...newProps as P} />;\r\n      }\r\n\r\n      return ComponentWithServices;\r\n    }\r\n  }\r\n\r\n  const ServiceContextProvider: FunctionComponent<ServiceProviderProps<SC>> = ({ services, children }) => {\r\n\r\n    return (\r\n      <Provider value={services || serviceConstructors}>\r\n        {children}\r\n      </Provider>\r\n    );\r\n  }\r\n\r\n  return {\r\n    /**\r\n     * Higher order component that injects the specified services into the react component, and excludes it from the typescript typing.\r\n     * @param injectable Service names to be injected.\r\n     */\r\n    withServices,\r\n    /**\r\n     * Returns with multpile services specified by name.\r\n     * @param injectable Service names to be injected.\r\n     */\r\n    useServices,\r\n    /**\r\n     * Returns with a single service specified by name.\r\n     * @param injectable Service name to be injected.\r\n     */\r\n    useService,\r\n    /**\r\n     * Provides context to the service injection. If value provided, all the services will be replaced.\r\n     */\r\n    ServiceContextProvider\r\n  }\r\n}\r\n","import { Actions, AlertActions, AlertState } from \"./actionsAndState\";\r\n\r\nexport function reducer(state: AlertState, action: AlertActions): AlertState {\r\n  switch (action.type) {\r\n    case Actions.Show:\r\n      return {\r\n        show: true,\r\n        variant: action.variant,\r\n        message: action.message\r\n      };\r\n    case Actions.Hide:\r\n      if (!state.show)\r\n        return state;\r\n      return {\r\n        show: false,\r\n        variant: \"\",\r\n        message: \"\"\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FunctionComponent, useCallback, useEffect, useReducer } from \"react\";\r\nimport { Alert } from \"react-bootstrap\";\r\nimport { useService } from \"../services\";\r\nimport { Actions, AlertState } from \"./actionsAndState\";\r\nimport { reducer } from \"./reducer\";\r\n\r\n\r\n\r\ninterface AlertBoxProps {\r\n\r\n}\r\n\r\nconst initialState: AlertState = { show: false, variant: \"\", message: \"\" };\r\n\r\nexport const AlertBox: FunctionComponent<AlertBoxProps> = () => {\r\n  const alertService = useService(\"alert\");\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const { show, message, variant } = state;\r\n  useEffect(() => {\r\n    alertService.listen(dispatch);\r\n    return () => alertService.listen(null);\r\n  }, [alertService, dispatch]);\r\n  const closeHandler = useCallback(() => {\r\n    dispatch({ type: Actions.Hide });\r\n  }, [dispatch]);\r\n  return (\r\n    <Alert show={show} variant={variant} onClose={closeHandler} dismissible>\r\n      {message}\r\n    </Alert>\r\n  );\r\n};\r\n","export enum Continent {\r\n  Africa = \"africa\",\r\n  Asia = \"asia\",\r\n  Europe = \"europe\",\r\n  NorthAmerica = \"north-america\",\r\n  Oceania = \"oceania\",\r\n  SouthAmerica = \"south-america\",\r\n}\r\n\r\nexport interface ContinentInfo {\r\n  name: Continent;\r\n  displayName: string;\r\n}\r\n\r\nexport const continents: ContinentInfo[] = [\r\n  {\r\n    name: Continent.NorthAmerica,\r\n    displayName: \"É.Am.\",\r\n  },\r\n  {\r\n    name: Continent.SouthAmerica,\r\n    displayName: \"D.Am.\",\r\n  },\r\n  {\r\n    name: Continent.Africa,\r\n    displayName: \"Afri.\",\r\n  },\r\n  {\r\n    name: Continent.Europe,\r\n    displayName: \"Euro.\",\r\n  },\r\n  {\r\n    name: Continent.Asia,\r\n    displayName: \"Ázsia\",\r\n  },\r\n  {\r\n    name: Continent.Oceania,\r\n    displayName: \"Óceá.\",\r\n  }\r\n];\r\n","import { Action } from \"../common\";\r\nimport { PlayList } from \"../flagsService/playList\";\r\n\r\nexport enum Actions {\r\n  IncrementCorrect = \"flagPicker.IncrementCorrect\",\r\n  IncrementWrong = \"flagPicker.IncrementWrong\",\r\n  PickFlag = \"flagPicker.PickFlag\",\r\n  Reset = \"flagPicker.Reset\",\r\n}\r\n\r\nexport interface IncrementCorrectAction extends Action<typeof Actions.IncrementCorrect> {\r\n  flag: string;\r\n}\r\n\r\nexport interface IncrementWrongAction extends Action<typeof Actions.IncrementWrong> {\r\n  flag: string;\r\n}\r\n\r\nexport interface PickFlagAction extends Action<typeof Actions.PickFlag> {\r\n\r\n}\r\n\r\nexport interface ResetAction extends Action<typeof Actions.Reset> {\r\n  playList: PlayList;\r\n}\r\n\r\n\r\nexport type PickFlagActions = IncrementCorrectAction | IncrementWrongAction | PickFlagAction | ResetAction;\r\n\r\nexport interface IGameFlagState {\r\n  correct: number;\r\n  wrong: number;\r\n  numOfPlay: number;\r\n  lastPlay: number;\r\n}\r\n\r\nexport interface IGameFlagStateCollection {\r\n  [name: string]: IGameFlagState;\r\n}\r\n\r\nexport interface IGameState {\r\n  id: number;\r\n  version: number;\r\n  flags: string[];\r\n  lastFlag: string;\r\n  numOfPlay: number;\r\n  numOfWrong: number;\r\n  numOfCorrect: number;\r\n  flagsState: IGameFlagStateCollection;\r\n}\r\n","import { Continent } from \"./continentList\";\r\n\r\nexport interface FlagInfo {\r\n  Pic: string;\r\n  Eng: string;\r\n  Hun: string;\r\n  Loc: Continent|null;\r\n}\r\n\r\nexport const flags: FlagInfo[] = [\r\n  { Pic: \"001-ethiopia.svg\", Eng: \"Ethiopia\", Hun: \"Etiópia\", Loc: Continent.Africa },\r\n  { Pic: \"002-oman.svg\", Eng: \"Oman\", Hun: \"Omán\", Loc: Continent.Asia },\r\n  { Pic: \"003-tanzania.svg\", Eng: \"Tanzania\", Hun: \"Tanzánia\", Loc: Continent.Africa },\r\n  { Pic: \"004-slovenia.svg\", Eng: \"Slovenia\", Hun: \"Szlovénia\", Loc: Continent.Europe },\r\n  { Pic: \"006-mozambique.svg\", Eng: \"Mozambique\", Hun: \"Mozambik\", Loc: Continent.Africa },\r\n  { Pic: \"007-iraq.svg\", Eng: \"Iraq\", Hun: \"Irak\", Loc: Continent.Asia },\r\n  { Pic: \"008-lebanon.svg\", Eng: \"Lebanon\", Hun: \"Libanon\", Loc: Continent.Asia },\r\n  { Pic: \"009-uganda.svg\", Eng: \"Uganda\", Hun: \"Uganda\", Loc: Continent.Africa },\r\n  { Pic: \"010-nigeria.svg\", Eng: \"Nigeria\", Hun: \"Nigéria\", Loc: Continent.Africa },\r\n  { Pic: \"011-italy.svg\", Eng: \"Italy\", Hun: \"Olaszország\", Loc: Continent.Europe },\r\n  { Pic: \"012-malta.svg\", Eng: \"Malta\", Hun: \"Málta\", Loc: Continent.Europe },\r\n  { Pic: \"013-tunisia.svg\", Eng: \"Tunisia\", Hun: \"Tunézia\", Loc: Continent.Africa },\r\n  { Pic: \"014-nicaragua.svg\", Eng: \"Nicaragua\", Hun: \"Nicaragua\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"015-el-salvador.svg\", Eng: \"El Salvador\", Hun: \"El Salvador\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"016-zambia.svg\", Eng: \"Zambia\", Hun: \"Zambia\", Loc: Continent.Africa },\r\n  { Pic: \"018-dominican-republic.svg\", Eng: \"Dominican Republic\", Hun: \"Dominikai Köztársaság\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"019-qatar.svg\", Eng: \"Qatar\", Hun: \"Katar\", Loc: Continent.Asia },\r\n  { Pic: \"020-namibia.svg\", Eng: \"Namibia\", Hun: \"Namíbia\", Loc: Continent.Africa },\r\n  { Pic: \"021-mauritius.svg\", Eng: \"Mauritius\", Hun: \"Mauritius\", Loc: Continent.Africa },\r\n  { Pic: \"023-luxembourg.svg\", Eng: \"Luxembourg\", Hun: \"Luxemburg\", Loc: Continent.Europe },\r\n  { Pic: \"025-lithuania.svg\", Eng: \"Lithuania\", Hun: \"Litvánia\", Loc: Continent.Europe },\r\n  { Pic: \"026-jamaica.svg\", Eng: \"Jamaica\", Hun: \"Jamaica\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"027-honduras.svg\", Eng: \"Honduras\", Hun: \"Honduras\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"028-myanmar.svg\", Eng: \"Myanmar\", Hun: \"Mianmar\", Loc: Continent.Asia },\r\n  { Pic: \"029-kenya.svg\", Eng: \"Kenya\", Hun: \"Kenya\", Loc: Continent.Africa },\r\n  { Pic: \"030-cyprus.svg\", Eng: \"Cyprus\", Hun: \"Ciprus\", Loc: Continent.Asia },\r\n  { Pic: \"031-pakistan.svg\", Eng: \"Pakistan\", Hun: \"Pakisztán\", Loc: Continent.Asia },\r\n  { Pic: \"032-latvia.svg\", Eng: \"Latvia\", Hun: \"Lettország\", Loc: Continent.Europe },\r\n  { Pic: \"033-japan.svg\", Eng: \"Japan\", Hun: \"Japán\", Loc: Continent.Asia },\r\n  { Pic: \"034-kazakhstan.svg\", Eng: \"Kazakhstan\", Hun: \"Kazahsztán\", Loc: Continent.Asia },\r\n  { Pic: \"035-serbia.svg\", Eng: \"Serbia\", Hun: \"Szerbia\", Loc: Continent.Europe },\r\n  { Pic: \"037-north-korea.svg\", Eng: \"North Korea\", Hun: \"Észak-Korea\", Loc: Continent.Asia },\r\n  { Pic: \"038-uruguay.svg\", Eng: \"Uruguay\", Hun: \"Uruguay\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"039-syria.svg\", Eng: \"Syria\", Hun: \"Szíria\", Loc: Continent.Asia },\r\n  { Pic: \"040-guatemala.svg\", Eng: \"Guatemala\", Hun: \"Guatemala\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"041-iceland.svg\", Eng: \"Iceland\", Hun: \"Izland\", Loc: Continent.Europe },\r\n  { Pic: \"042-jordan.svg\", Eng: \"Jordan\", Hun: \"Jordánia\", Loc: Continent.Asia },\r\n  { Pic: \"043-monaco.svg\", Eng: \"Monaco\", Hun: \"Monaco\", Loc: Continent.Europe },\r\n  { Pic: \"044-spain.svg\", Eng: \"Spain\", Hun: \"Spanyolország\", Loc: Continent.Europe },\r\n  { Pic: \"045-slovakia.svg\", Eng: \"Slovakia\", Hun: \"Szlovákia\", Loc: Continent.Europe },\r\n  { Pic: \"047-panama.svg\", Eng: \"Panama\", Hun: \"Panama\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"048-new-zealand.svg\", Eng: \"New Zealand\", Hun: \"Új Zéland\", Loc: Continent.Oceania },\r\n  { Pic: \"049-ecuador.svg\", Eng: \"Ecuador\", Hun: \"Ecuador\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"050-romania.svg\", Eng: \"Romania\", Hun: \"Románia\", Loc: Continent.Europe },\r\n  { Pic: \"051-chile.svg\", Eng: \"Chile\", Hun: \"Chile\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"052-finland.svg\", Eng: \"Finland\", Hun: \"Finnország\", Loc: Continent.Europe },\r\n  { Pic: \"053-hungary.svg\", Eng: \"Hungary\", Hun: \"Magyarország\", Loc: Continent.Europe },\r\n  { Pic: \"054-belgium.svg\", Eng: \"Belgium\", Hun: \"Belgium\", Loc: Continent.Europe },\r\n  { Pic: \"055-south-korea.svg\", Eng: \"South Korea\", Hun: \"Dél-Korea\", Loc: Continent.Asia },\r\n  { Pic: \"056-malaysia.svg\", Eng: \"Malaysia\", Hun: \"Malajzia\", Loc: Continent.Asia },\r\n  { Pic: \"057-venezuela.svg\", Eng: \"Venezuela\", Hun: \"Venezuela\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"058-norway.svg\", Eng: \"Norway\", Hun: \"Norvégia\", Loc: Continent.Europe },\r\n  { Pic: \"059-saudi-arabia.svg\", Eng: \"Saudi Arabia\", Hun: \"Szaud-Arábia\", Loc: Continent.Asia },\r\n  { Pic: \"060-israel.svg\", Eng: \"Israel\", Hun: \"Izrael\", Loc: Continent.Asia },\r\n  { Pic: \"061-czech-republic.svg\", Eng: \"Czech Republic\", Hun: \"Cseh Köztársaság\", Loc: Continent.Europe },\r\n  { Pic: \"062-colombia.svg\", Eng: \"Colombia\", Hun: \"Kolumbia\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"063-iran.svg\", Eng: \"Iran\", Hun: \"Irán\", Loc: Continent.Asia },\r\n  { Pic: \"064-argentina.svg\", Eng: \"Argentina\", Hun: \"Argentína\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"065-ukraine.svg\", Eng: \"Ukraine\", Hun: \"Ukrajna\", Loc: Continent.Europe },\r\n  { Pic: \"066-germany.svg\", Eng: \"Germany\", Hun: \"Németország\", Loc: Continent.Europe },\r\n  { Pic: \"068-united-arab-emirates.svg\", Eng: \"United Arab Emirates\", Hun: \"Egyesült Arab Emírségek\", Loc: Continent.Asia },\r\n  { Pic: \"069-laos.svg\", Eng: \"Laos\", Hun: \"Laosz\", Loc: Continent.Asia },\r\n  { Pic: \"070-ireland.svg\", Eng: \"Ireland\", Hun: \"Írország\", Loc: Continent.Europe },\r\n  { Pic: \"071-greece.svg\", Eng: \"Greece\", Hun: \"Görögország\", Loc: Continent.Europe },\r\n  { Pic: \"072-denmark.svg\", Eng: \"Denmark\", Hun: \"Dánia\", Loc: Continent.Europe },\r\n  { Pic: \"073-sweden.svg\", Eng: \"Sweden\", Hun: \"Svédország\", Loc: Continent.Europe },\r\n  { Pic: \"074-peru.svg\", Eng: \"Peru\", Hun: \"Peru\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"075-south-africa.svg\", Eng: \"South Africa\", Hun: \"Dél-afrikai Köztársaság\", Loc: Continent.Africa },\r\n  { Pic: \"076-philippines.svg\", Eng: \"Philippines\", Hun: \"Fülöp-szigetek\", Loc: Continent.Asia },\r\n  { Pic: \"077-france.svg\", Eng: \"France\", Hun: \"Franciaország\", Loc: Continent.Europe },\r\n  { Pic: \"078-indonesia.svg\", Eng: \"Indonesia\", Hun: \"Indonézia\", Loc: Continent.Asia },\r\n  { Pic: \"079-egypt.svg\", Eng: \"Egypt\", Hun: \"Egyiptom\", Loc: Continent.Africa },\r\n  //{ Pic: \"080-taiwan.svg\", Eng: \"Taiwan\", Hun: \"Tajvan\", Loc: Continent.Asia },//Missing\r\n  { Pic: \"086-morocco.svg\", Eng: \"Morocco\", Hun: \"Marokkó\", Loc: Continent.Africa },\r\n  { Pic: \"090-comoros.svg\", Eng: \"Comoros\", Hun: \"Comore-szigetek\", Loc: Continent.Africa },\r\n  { Pic: \"091-central-african-republic.svg\", Eng: \"Central African Republic\", Hun: \"Közép-Afrikai Köztársaság\", Loc: Continent.Africa },\r\n  { Pic: \"094-bhutan.svg\", Eng: \"Bhutan\", Hun: \"Bhután\", Loc: Continent.Asia },\r\n  { Pic: \"095-chad.svg\", Eng: \"Chad\", Hun: \"Csád\", Loc: Continent.Africa },\r\n  { Pic: \"096-cape-verde.svg\", Eng: \"Cape Verde\", Hun: \"Zöld-foki köztársaság\", Loc: Continent.Africa },\r\n  { Pic: \"097-switzerland.svg\", Eng: \"Switzerland\", Hun: \"Svájc\", Loc: Continent.Europe },\r\n  { Pic: \"098-benin.svg\", Eng: \"Benin\", Hun: \"Benin\", Loc: Continent.Africa },\r\n  { Pic: \"102-andorra.svg\", Eng: \"Andorra\", Hun: \"Andorra\", Loc: Continent.Europe },\r\n  { Pic: \"103-burundi.svg\", Eng: \"Burundi\", Hun: \"Burundi\", Loc: Continent.Africa },\r\n  { Pic: \"104-antigua-and-barbuda.svg\", Eng: \"Antigua and Barbuda\", Hun: \"Antigua és Barbuda\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"106-cameroon.svg\", Eng: \"Cameroon\", Hun: \"Kamerun\", Loc: Continent.Africa },\r\n  { Pic: \"107-brunei.svg\", Eng: \"Brunei\", Hun: \"Brunei\", Loc: Continent.Asia },\r\n  { Pic: \"108-poland.svg\", Eng: \"Poland\", Hun: \"Lengyelország\", Loc: Continent.Europe },\r\n  { Pic: \"110-belarus.svg\", Eng: \"Belarus\", Hun: \"Fehéroroszország\", Loc: Continent.Europe },\r\n  { Pic: \"111-barbados.svg\", Eng: \"Barbados\", Hun: \"Barbados\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"113-bosnia-and-herzegovina.svg\", Eng: \"Bosnia and Herzegovina\", Hun: \"Bosznia és Hercegovina\", Loc: Continent.Europe },\r\n  { Pic: \"115-belize.svg\", Eng: \"Belize\", Hun: \"Belize\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"116-bahrain.svg\", Eng: \"Bahrain\", Hun: \"Bahrein\", Loc: Continent.Asia },\r\n  { Pic: \"117-albania.svg\", Eng: \"Albania\", Hun: \"Albánia\", Loc: Continent.Europe },\r\n  { Pic: \"118-burkina-faso.svg\", Eng: \"Burkina Faso\", Hun: \"Burkina Faso\", Loc: Continent.Africa },\r\n  { Pic: \"119-turkey.svg\", Eng: \"Turkey\", Hun: \"Törökország\", Loc: Continent.Asia },\r\n  { Pic: \"121-armenia.svg\", Eng: \"Armenia\", Hun: \"Örményország\", Loc: Continent.Asia },\r\n  { Pic: \"122-afghanistan.svg\", Eng: \"Afghanistan\", Hun: \"Afganisztán\", Loc: Continent.Asia },\r\n  { Pic: \"124-angola.svg\", Eng: \"Angola\", Hun: \"Angola\", Loc: Continent.Africa },\r\n  { Pic: \"125-azerbaijan.svg\", Eng: \"Azerbaijan\", Hun: \"Azerbajdzsán\", Loc: Continent.Asia },\r\n  { Pic: \"126-algeria.svg\", Eng: \"Algeria\", Hun: \"Algéria\", Loc: Continent.Africa },\r\n  { Pic: \"127-botswana.svg\", Eng: \"Botswana\", Hun: \"Botswana\", Loc: Continent.Africa },\r\n  { Pic: \"128-bangladesh.svg\", Eng: \"Bangladesh\", Hun: \"Banglades\", Loc: Continent.Asia },\r\n  { Pic: \"129-cuba.svg\", Eng: \"Cuba\", Hun: \"Kuba\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"130-australia.svg\", Eng: \"Australia\", Hun: \"Ausztrália\", Loc: Continent.Oceania },\r\n  { Pic: \"131-costa-rica.svg\", Eng: \"Costa Rica\", Hun: \"Costa Rica\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"132-cambodia.svg\", Eng: \"Cambodia\", Hun: \"Kambodzsa\", Loc: Continent.Asia },\r\n  { Pic: \"133-bolivia.svg\", Eng: \"Bolivia\", Hun: \"Bolívia\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"134-croatia.svg\", Eng: \"Croatia\", Hun: \"Horvátország\", Loc: Continent.Europe },\r\n  { Pic: \"135-bulgaria.svg\", Eng: \"Bulgaria\", Hun: \"Bulgária\", Loc: Continent.Europe },\r\n  { Pic: \"138-tonga.svg\", Eng: \"Tonga\", Hun: \"Tonga\", Loc: Continent.Oceania },\r\n  { Pic: \"139-st-lucia.svg\", Eng: \"Saint Lucia\", Hun: \"Szent Lucia\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"141-singapore.svg\", Eng: \"Singapore\", Hun: \"Szingapúr\", Loc: Continent.Asia },\r\n  { Pic: \"142-palau.svg\", Eng: \"Palau\", Hun: \"Palau\", Loc: Continent.Oceania },\r\n  { Pic: \"145-fiji.svg\", Eng: \"Fiji\", Hun: \"Fidzsi-szigetek\", Loc: Continent.Oceania },\r\n  { Pic: \"147-dominica.svg\", Eng: \"Dominica\", Hun: \"Dominikai közösség\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"148-vanuatu.svg\", Eng: \"Vanuatu\", Hun: \"Vanuatu\", Loc: Continent.Oceania },\r\n  { Pic: \"149-sierra-leone.svg\", Eng: \"Sierra Leone\", Hun: \"Sierra Leone\", Loc: Continent.Africa },\r\n  { Pic: \"150-seychelles.svg\", Eng: \"Seychelles\", Hun: \"Seychelle-szigetek\", Loc: Continent.Africa },\r\n  { Pic: \"151-kosovo.svg\", Eng: \"Kosovo\", Hun: \"Koszovó\", Loc: Continent.Europe },\r\n  { Pic: \"153-united-states-of-america.svg\", Eng: \"United States of America\", Hun: \"Amerikai egyesült államok\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"154-guinea.svg\", Eng: \"Guinea\", Hun: \"Guinea\", Loc: Continent.Africa },\r\n  { Pic: \"159-gambia.svg\", Eng: \"Gambia\", Hun: \"Gambia\", Loc: Continent.Africa },\r\n  { Pic: \"160-st-vincent-and-the-grenadines.svg\", Eng: \"St Vincent and the Grenadines\", Hun: \"Szent Vincent és a Grenadine-szigetek\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"161-south-sudan.svg\", Eng: \"South Sudan\", Hun: \"Dél Szudán\", Loc: Continent.Africa },\r\n  //{ Pic: \"162-somaliland.svg\", Eng: \"Somaliland\", Hun: \"Szomáliföld\", Loc: Continent.Africa }, // Missing\r\n  { Pic: \"163-solomon-islands.svg\", Eng: \"Solomon Islands\", Hun: \"Salamon-szigetek\", Loc: Continent.Oceania },\r\n  { Pic: \"164-vietnam.svg\", Eng: \"Vietnam\", Hun: \"Vietnám\", Loc: Continent.Asia },\r\n  { Pic: \"167-saint-kitts-and-nevis.svg\", Eng: \"Saint Kitts and Nevis\", Hun: \"Saint Kitts és Nevis\", Loc: Continent.NorthAmerica },\r\n  //{ Pic: \"170-palestine.svg\", Eng: \"Palestine\", Hun: \"Palesztina\", Loc: Continent.Asia }, // Missing\r\n  { Pic: \"173-nauru.svg\", Eng: \"Nauru\", Hun: \"Nauru\", Loc: Continent.Oceania },\r\n  { Pic: \"174-portugal.svg\", Eng: \"Portugal\", Hun: \"Portugália\", Loc: Continent.Europe },\r\n  { Pic: \"177-mauritania.svg\", Eng: \"Mauritania\", Hun: \"Mauritánia\", Loc: Continent.Africa },\r\n  { Pic: \"178-kuwait.svg\", Eng: \"Kuwait\", Hun: \"Kuvait\", Loc: Continent.Asia },\r\n  { Pic: \"182-grenada.svg\", Eng: \"Grenada\", Hun: \"Grenada\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"184-thailand.svg\", Eng: \"Thailand\", Hun: \"Thaiföld\", Loc: Continent.Asia },\r\n  { Pic: \"186-gabon.svg\", Eng: \"Gabon\", Hun: \"Gabon\", Loc: Continent.Africa },\r\n  { Pic: \"189-austria.svg\", Eng: \"Austria\", Hun: \"Ausztria\", Loc: Continent.Europe },\r\n  { Pic: \"190-vatican-city.svg\", Eng: \"Vatican City\", Hun: \"Vatikán város\", Loc: Continent.Europe },\r\n  { Pic: \"191-tuvalu.svg\", Eng: \"Tuvalu\", Hun: \"Tuvalu\", Loc: Continent.Oceania },\r\n  { Pic: \"192-turkmenistan.svg\", Eng: \"Turkmenistan\", Hun: \"Türkmenisztán\", Loc: Continent.Asia },\r\n  { Pic: \"193-togo.svg\", Eng: \"Togo\", Hun: \"Togo\", Loc: Continent.Africa },\r\n  { Pic: \"194-bahamas.svg\", Eng: \"Bahamas\", Hun: \"Bahama-szigetek\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"195-netherlands.svg\", Eng: \"Netherlands\", Hun: \"Hollandia\", Loc: Continent.Europe },\r\n  { Pic: \"197-suriname.svg\", Eng: \"Suriname\", Hun: \"Suriname\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"198-somalia.svg\", Eng: \"Somalia\", Hun: \"Szomália\", Loc: Continent.Africa },\r\n  { Pic: \"201-sao-tome-and-principe.svg\", Eng: \"Sao Tome and Principe\", Hun: \"Sao Tome és Principe\", Loc: Continent.Africa },\r\n  { Pic: \"203-niger.svg\", Eng: \"Niger\", Hun: \"Niger\", Loc: Continent.Africa },\r\n  { Pic: \"204-micronesia.svg\", Eng: \"Micronesia\", Hun: \"Mikronézia\", Loc: Continent.Oceania },\r\n  { Pic: \"205-marshall-island.svg\", Eng: \"Marshall Island\", Hun: \"Marshall-sziget\", Loc: Continent.Oceania },\r\n  { Pic: \"206-canada.svg\", Eng: \"Canada\", Hun: \"Kanada\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"207-mali.svg\", Eng: \"Mali\", Hun: \"Mali\", Loc: Continent.Africa },\r\n  { Pic: \"208-kyrgyzstan.svg\", Eng: \"Kyrgyzstan\", Hun: \"Kirgizisztán\", Loc: Continent.Asia },\r\n  { Pic: \"209-guinea-bissau.svg\", Eng: \"Guinea Bissau\", Hun: \"Bissau-Guinea\", Loc: Continent.Africa },\r\n  { Pic: \"210-eritrea.svg\", Eng: \"Eritrea\", Hun: \"Eritrea\", Loc: Continent.Africa },\r\n  { Pic: \"211-djibouti.svg\", Eng: \"Djibouti\", Hun: \"Dzsibuti\", Loc: Continent.Africa },\r\n  { Pic: \"214-san-marino.svg\", Eng: \"San Marino\", Hun: \"San Marino\", Loc: Continent.Europe },\r\n  { Pic: \"216-liechtenstein.svg\", Eng: \"Liechtenstein\", Hun: \"Liechtenstein\", Loc: Continent.Europe },\r\n  { Pic: \"217-india.svg\", Eng: \"India\", Hun: \"India\", Loc: Continent.Asia },\r\n  { Pic: \"218-liberia.svg\", Eng: \"Liberia\", Hun: \"Libéria\", Loc: Continent.Africa },\r\n  { Pic: \"219-yemen.svg\", Eng: \"Yemen\", Hun: \"Jemen\", Loc: Continent.Asia },\r\n  { Pic: \"220-uzbekistan.svg\", Eng: \"Uzbekistan\", Hun: \"Üzbégisztán\", Loc: Continent.Asia },\r\n  { Pic: \"221-sudan.svg\", Eng: \"Sudan\", Hun: \"Szudán\", Loc: Continent.Africa },\r\n  //{ Pic: \"222-sahrawi-arab-democratic-republic.svg\", Eng: \"Sahrawi Arab Democratic Republic\", Hun: \"Szaharai Arab Demokratikus Köztársaság\", Loc: Continent.Africa }, // Missing\r\n  { Pic: \"223-republic-of-macedonia.svg\", Eng: \"Republic of Macedonia\", Hun: \"Macedónia Köztársaság\", Loc: Continent.Europe },\r\n  { Pic: \"225-libya.svg\", Eng: \"Libya\", Hun: \"Líbia\", Loc: Continent.Africa },\r\n  { Pic: \"226-east-timor.svg\", Eng: \"East Timor\", Hun: \"Kelet-Timor\", Loc: Continent.Asia },\r\n  { Pic: \"228-russia.svg\", Eng: \"Russia\", Hun: \"Oroszország\", Loc: Continent.Asia },\r\n  { Pic: \"229-papua-new-guinea.svg\", Eng: \"Papua New Guinea\", Hun: \"Pápua Új-Guinea\", Loc: Continent.Oceania },\r\n  { Pic: \"230-montenegro.svg\", Eng: \"Montenegro\", Hun: \"Montenegró\", Loc: Continent.Europe },\r\n  { Pic: \"231-moldova.svg\", Eng: \"Moldova\", Hun: \"Moldova\", Loc: Continent.Europe },\r\n  { Pic: \"232-maldives.svg\", Eng: \"Maldives\", Hun: \"Maldív-szigetek\", Loc: Continent.Asia },\r\n  { Pic: \"235-trinidad-and-tobago.svg\", Eng: \"Trinidad and Tobago\", Hun: \"Trinidad és Tobago\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"236-tajikistan.svg\", Eng: \"Tajikistan\", Hun: \"Tádzsikisztán\", Loc: Continent.Asia },\r\n  { Pic: \"238-sri-lanka.svg\", Eng: \"Sri Lanka\", Hun: \"Srí Lanka\", Loc: Continent.Asia },\r\n  { Pic: \"239-mexico.svg\", Eng: \"Mexico\", Hun: \"Mexikó\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"240-republic-of-the-congo.svg\", Eng: \"Republic of the Congo\", Hun: \"Kongói Köztársaság\", Loc: Continent.Africa },\r\n  { Pic: \"241-equatorial-guinea.svg\", Eng: \"Equatorial Guinea\", Hun: \"Egyenlítői-Guinea\", Loc: Continent.Africa },\r\n  { Pic: \"242-zimbabwe.svg\", Eng: \"Zimbabwe\", Hun: \"Zimbabwe\", Loc: Continent.Africa },\r\n  { Pic: \"243-rwanda.svg\", Eng: \"Rwanda\", Hun: \"Ruanda\", Loc: Continent.Africa },\r\n  { Pic: \"244-lesotho.svg\", Eng: \"Lesotho\", Hun: \"Lesotho\", Loc: Continent.Africa },\r\n  { Pic: \"245-ivory-coast.svg\", Eng: \"Ivory Coast\", Hun: \"Elefántcsontpart\", Loc: Continent.Africa },\r\n  { Pic: \"247-haiti.svg\", Eng: \"Haiti\", Hun: \"Haiti\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"248-samoa.svg\", Eng: \"Samoa\", Hun: \"Szamoa\", Loc: Continent.Oceania },\r\n  { Pic: \"249-nepal.svg\", Eng: \"Nepal\", Hun: \"Nepál\", Loc: Continent.Asia },\r\n  { Pic: \"250-brazil.svg\", Eng: \"Brazil\", Hun: \"Brazília\", Loc: Continent.NorthAmerica },\r\n  { Pic: \"251-mongolia.svg\", Eng: \"Mongolia\", Hun: \"Mongólia\", Loc: Continent.Asia },\r\n  { Pic: \"252-malawi.svg\", Eng: \"Malawi\", Hun: \"Malawi\", Loc: Continent.Africa },\r\n  { Pic: \"253-madagascar.svg\", Eng: \"Madagascar\", Hun: \"Madagaszkár\", Loc: Continent.Africa },\r\n  { Pic: \"255-ghana.svg\", Eng: \"Ghana\", Hun: \"Ghána\", Loc: Continent.Africa },\r\n  { Pic: \"256-georgia.svg\", Eng: \"Georgia\", Hun: \"Grúzia\", Loc: Continent.Asia },\r\n  { Pic: \"257-estonia.svg\", Eng: \"Estonia\", Hun: \"Észtország\", Loc: Continent.Europe },\r\n  { Pic: \"258-democratic-republic-of-congo.svg\", Eng: \"Democratic Republic of Congo\", Hun: \"Kongói Demokratikus Köztársaság\", Loc: Continent.Africa },\r\n  { Pic: \"259-senegal.svg\", Eng: \"Senegal\", Hun: \"Szenegál\", Loc: Continent.Africa },\r\n  { Pic: \"260-paraguay.svg\", Eng: \"Paraguay\", Hun: \"Paraguay\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"261-china.svg\", Eng: \"China\", Hun: \"Kína\", Loc: Continent.Asia },\r\n  { Pic: \"262-united-kingdom.svg\", Eng: \"United Kingdom\", Hun: \"Egyesült Királyság\", Loc: Continent.Europe },\r\n  { Pic: \"263-eswatini.svg\", Eng: \"Eswatini\", Hun: \"Szváziföld\", Loc: Continent.Africa },\r\n  { Pic: \"264-guyana.svg\", Eng: \"Guyana\", Hun: \"Guyana\", Loc: Continent.SouthAmerica },\r\n  { Pic: \"265-kiribati.svg\", Eng: \"Kiribati\", Hun: \"Kiribati\", Loc: Continent.Oceania },\r\n];\r\n","import { ChangeEvent, useCallback } from \"react\";\r\n\r\nexport interface Action<T> {\r\n  type: T\r\n}\r\n\r\nexport function pickRandom(max: number) {\r\n  return Math.random() * max;\r\n}\r\n\r\nexport function findValIndex(val: number, list: number[], start: number, end: number): number {\r\n  if (start === end) {\r\n    return 1 + Math.min(start, list.length - 1);\r\n  }\r\n  const middle = start + Math.trunc((end - start) / 2);\r\n  if (list[middle] < val) {\r\n    if (middle + 1 === end) {\r\n      return Math.min(end, list.length - 1);\r\n    }\r\n    return findValIndex(val, list, middle, end);\r\n  } else if (middle === 0) {\r\n    return 0;\r\n  } else {\r\n    return findValIndex(val, list, start, middle);\r\n  }\r\n}\r\n\r\nexport function useChangeToSetterHandler(setter: (value: string) => any) {\r\n  return useCallback((evt: ChangeEvent<HTMLInputElement>) => {\r\n    setter(evt.target.value);\r\n  }, [setter]);\r\n}\r\n","\r\ninterface TableRow {\r\n  id: number;\r\n}\r\n\r\ninterface TableSchema<TRow extends TableRow> {\r\n  id_generator: number;\r\n  data: TRow[];\r\n}\r\n\r\nfunction getTable<TRow extends TableRow>(tableName: string): TableSchema<TRow> {\r\n  var json = localStorage.getItem(tableName);\r\n  if (json === null)\r\n    return {\r\n      id_generator: 0,\r\n      data: []\r\n    };;\r\n  return JSON.parse(json) as TableSchema<TRow>;\r\n}\r\n\r\nfunction clone<T>(item: T) {\r\n  return JSON.parse(JSON.stringify(item)) as T;\r\n}\r\n\r\nexport function extTable<TRow extends TableRow>(tableName: string) {\r\n  const tableData = getTable<TRow>(tableName);\r\n\r\n  function getNextId() {\r\n    return ++tableData.id_generator;\r\n  }\r\n\r\n  return {\r\n    getKeys() {\r\n      return tableData.data.map(e => e.id);\r\n    },\r\n    getElementByKey(id: number) {\r\n      const item = tableData.data.find(e => e.id === id);\r\n      if (item)\r\n        return clone(item);\r\n      else\r\n        return null;\r\n    },\r\n    saveElement(element: TRow) {\r\n      if (element.id) {\r\n        const index = tableData.data.findIndex(e => e.id === element.id);\r\n        if(index !== -1) {\r\n           tableData.data[index] = clone(element);\r\n        } else {\r\n          tableData.data.push(clone(element));\r\n        }\r\n        localStorage.setItem(tableName, JSON.stringify(tableData));\r\n        return element.id;\r\n      }\r\n      var newElement = clone(element);\r\n      newElement.id = getNextId();\r\n      tableData.data.push(newElement);\r\n      localStorage.setItem(tableName, JSON.stringify(tableData));\r\n      return newElement.id;\r\n    },\r\n    getAll() {\r\n      // if any element is saved then it is in the storage,\r\n      // if not then it is empty.\r\n      return getTable<TRow>(tableName);\r\n    },\r\n    isEmpty() {\r\n      return tableData.data.length === 0\r\n    }\r\n  }\r\n}\r\n","import { pickRandom, findValIndex } from \"../common\";\r\nimport { IGameState } from \"./actionsAndState\";\r\n\r\nexport function pickFlagInternal(state: IGameState) {\r\n  const flagList = Object.keys(state.flagsState);\r\n  const chances: number[] = [];\r\n  let total = 0;\r\n  for (const flag of flagList) {\r\n    const stats = state.flagsState[flag];\r\n    const chanceOldness = Math.min(state.numOfPlay - (stats.lastPlay || 0), flagList.length) / flagList.length;\r\n    const wrong = Math.max(stats.wrong, 1);\r\n    const correct = Math.max(stats.correct, 1);\r\n    const z = Math.min(wrong, correct) - 1;\r\n    const chanceWrong = (wrong - z) / (wrong + correct - 2 * z);\r\n    const chanceTotal = (chanceOldness + chanceWrong) / 2;\r\n    total += chanceTotal;\r\n    chances.push(total);\r\n  }\r\n  const randomNum = pickRandom(total);\r\n  const index = findValIndex(randomNum, chances, 0, chances.length);\r\n  return flagList[index];\r\n}\r\n","import { pickRandom } from \"../common\";\r\nimport { extTable } from \"../common/extendedStore\";\r\nimport { PlayList } from \"../flagsService/playList\";\r\nimport { IGameFlagStateCollection, IGameState } from \"./actionsAndState\";\r\nimport { pickFlagInternal } from \"./flagPicker\";\r\n\r\nconst table = extTable<IGameState>(\"GameState\");\r\n\r\nfunction flagsNotChanged(savedState: IGameState, playList: PlayList) {\r\n  if (playList.flags.length !== savedState.flags.length)\r\n    return false;\r\n  const set1 = new Set(playList.flags);\r\n  for (const flag2 of savedState.flags) {\r\n    if (!set1.has(flag2))\r\n      return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function getStateForPlay(playList: PlayList | null): IGameState {\r\n  playList = playList || {\r\n    id: 0, name: \"\", flags: []\r\n  };\r\n  const savedState = table.getElementByKey(playList.id);\r\n  if (savedState !== null && flagsNotChanged(savedState, playList)) {\r\n    savedState.lastFlag = pickFlagInternal(savedState);\r\n    return savedState;\r\n  }\r\n  return {\r\n    id: playList.id,\r\n    version: 1,\r\n    flags: [...playList.flags],\r\n    lastFlag: playList.flags[pickRandom(playList.flags.length)],\r\n    numOfPlay: 0,\r\n    numOfCorrect: 0,\r\n    numOfWrong: 0,\r\n    flagsState: playList.flags.reduce((flagCollection, flag) => {\r\n      flagCollection[flag] = {\r\n        correct: 0,\r\n        numOfPlay: 0,\r\n        wrong: 0,\r\n        lastPlay: -1\r\n      }; return flagCollection\r\n    }, {} as IGameFlagStateCollection)\r\n  }\r\n}\r\n\r\nexport function saveStateOfPlay(gameState: IGameState) {\r\n  table.saveElement(gameState);\r\n}\r\n","import { IGameState, PickFlagActions, Actions } from \"./actionsAndState\";\r\nimport { getStateForPlay, saveStateOfPlay } from \"./gameStateStore\";\r\nimport { PlayList } from \"../flagsService/playList\";\r\nimport { pickFlagInternal } from \"./flagPicker\";\r\n\r\nexport function initGameState(playList: PlayList | null): IGameState {\r\n  return getStateForPlay(playList);\r\n}\r\n\r\nexport function reducer(state: IGameState, action: PickFlagActions): IGameState {\r\n  let newState = state;\r\n  switch (action.type) {\r\n    case Actions.IncrementCorrect:\r\n      newState = {\r\n        id: state.id,\r\n        version: state.version,\r\n        flags: state.flags,\r\n        numOfPlay: state.numOfPlay + 1,\r\n        numOfWrong: state.numOfWrong,\r\n        numOfCorrect: state.numOfCorrect + 1,\r\n        lastFlag: state.lastFlag,\r\n        flagsState: {\r\n          ...state.flagsState,\r\n          [action.flag]: {\r\n            numOfPlay: state.flagsState[action.flag].numOfPlay + 1,\r\n            correct: state.flagsState[action.flag].correct + 1,\r\n            wrong: state.flagsState[action.flag].wrong,\r\n            lastPlay: state.numOfPlay\r\n          }\r\n        }\r\n      };\r\n      break;\r\n    case Actions.IncrementWrong:\r\n      newState = {\r\n        id: state.id,\r\n        version: state.version,\r\n        flags: state.flags,\r\n        numOfPlay: state.numOfPlay + 1,\r\n        numOfWrong: state.numOfWrong + 1,\r\n        numOfCorrect: state.numOfCorrect,\r\n        lastFlag: state.lastFlag,\r\n        flagsState: {\r\n          ...state.flagsState,\r\n          [action.flag]: {\r\n            numOfPlay: state.flagsState[action.flag].numOfPlay + 1,\r\n            correct: state.flagsState[action.flag].correct,\r\n            wrong: state.flagsState[action.flag].wrong + 1,\r\n            lastPlay: state.numOfPlay\r\n          }\r\n        }\r\n      };\r\n      break;\r\n    case Actions.PickFlag:\r\n      if (state.flags.length === 0)\r\n        return state;\r\n      return {\r\n        ...state,\r\n        lastFlag: pickFlagInternal(state)\r\n      };\r\n    case Actions.Reset:\r\n      return initGameState(action.playList);\r\n    default:\r\n      return state;\r\n  }\r\n  saveStateOfPlay(newState);\r\n  return newState;\r\n}\r\n","import { FormEvent, useCallback, useState } from \"react\";\r\nimport { useFlagPicker } from \"../flagPicker\";\r\nimport { useService } from \"../services\";\r\nimport { Continent } from \"./continentList\";\r\nimport { FlagInfo, flags } from \"./flagList\";\r\nimport { PlayList } from \"./playList\";\r\n\r\nconst empty: FlagInfo = { Pic: \"\", Eng: \"\", Hun: \"\", Loc: null };\r\n\r\nexport function useGame(selected: PlayList | null) {\r\n  const alertService = useService(\"alert\");\r\n  const { gameState, incrementCorrect, incrementWrong, pickFlag } = useFlagPicker(selected);\r\n  const [guessStep, setGuessStep] = useState(0);\r\n  const [input, setInput] = useState(\"\");\r\n  const [continent, setContinent] = useState<Continent | null>(null);\r\n  const flagInfo = selected !== null ? flags.find(e => gameState.lastFlag === e.Pic) ?? empty : empty;\r\n  const pickNew = useCallback(() => {\r\n    alertService.hide();\r\n    setGuessStep(0);\r\n    setInput(\"\");\r\n    setContinent(null);\r\n    pickFlag();\r\n  }, [alertService, pickFlag]);\r\n  const guess = useCallback((evt: FormEvent) => {\r\n    evt.preventDefault();\r\n    if (flagInfo === undefined)\r\n      return;\r\n    if (selected === null)\r\n      return;\r\n    if (guessStep === 1) {\r\n      pickNew();\r\n      return;\r\n    }\r\n    if (input === \"\") {\r\n      // info\r\n      setContinent(flagInfo.Loc);\r\n      incrementWrong(flagInfo.Pic);\r\n      alertService.show(\"info\", `The answer is ${flagInfo.Hun}.`);\r\n    } else if (input === flagInfo.Hun) {\r\n      // correct\r\n      setContinent(flagInfo.Loc);\r\n      incrementCorrect(flagInfo.Pic);\r\n      alertService.show(\"success\", \"Correct!\");\r\n    } else if (flags.find(e => e.Hun === input) === undefined) {\r\n      return;\r\n    } else {\r\n      // fail\r\n      setContinent(flagInfo.Loc);\r\n      incrementWrong(flagInfo.Pic);\r\n      alertService.show(\"danger\", `Failed! The right answer is ${flagInfo.Hun}.`);\r\n    }\r\n    setGuessStep(1);\r\n  }, [flagInfo, selected, guessStep, pickNew, input, alertService, incrementCorrect, incrementWrong]);\r\n\r\n  return { pickNew, guess, flagInfo, input, setInput, gameState, guessStep, continent, setContinent };\r\n}\r\n","import { useCallback, useEffect, useReducer } from \"react\";\r\nimport { PlayList } from \"../flagsService/playList\";\r\nimport { Actions } from \"./actionsAndState\";\r\nimport { initGameState, reducer } from \"./reducer\";\r\n\r\nexport function useFlagPicker(playList: PlayList | null) {\r\n\r\n  const [gameState, dispatch] = useReducer(reducer, playList, initGameState);\r\n  const currentId = gameState.id;\r\n\r\n  useEffect(() => {\r\n    if (playList === null || currentId === playList.id) {\r\n      return;\r\n    }\r\n    dispatch({ type: Actions.Reset, playList });\r\n  }, [currentId, playList]);\r\n\r\n  const incrementCorrect = useCallback((flag: string) => {\r\n    dispatch({ type: Actions.IncrementCorrect, flag });\r\n  }, [dispatch]);\r\n\r\n  const incrementWrong = useCallback((flag: string) => {\r\n    dispatch({ type: Actions.IncrementWrong, flag });\r\n  }, [dispatch]);\r\n\r\n  const pickFlag = useCallback(() => {\r\n    dispatch({ type: Actions.PickFlag });\r\n  }, [dispatch]);\r\n\r\n  return { gameState, incrementCorrect, incrementWrong, pickFlag };\r\n}\r\n","import { FunctionComponent, useCallback, useEffect, useRef } from \"react\";\r\nimport { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport { FlagInfo } from \"../../../flagsService/flagList\";\r\n\r\ninterface CountryAutocompleteProps {\r\n  flags: FlagInfo[],\r\n  value: string;\r\n  onValueChanged: (newValue: string) => void;\r\n}\r\n\r\nexport const CountryAutocomplete: FunctionComponent<CountryAutocompleteProps> = ({ flags, value, onValueChanged }) => {\r\n  const ref = useRef<Typeahead<FlagInfo>>(null);\r\n  const changeHandler = useCallback((selections: FlagInfo[] | undefined) => {\r\n    if (selections && selections.length > 0) {\r\n      onValueChanged(selections[0].Hun);\r\n    }\r\n  }, [onValueChanged]);\r\n  useEffect(() => {\r\n    if(ref.current && !value) {\r\n      ref.current.clear();\r\n    }\r\n  }, [value]);\r\n  return (\r\n      <Typeahead\r\n        id=\"country-name\"\r\n        ref={ref}\r\n        caseSensitive={false}\r\n        ignoreDiacritics={true}\r\n        options={flags}\r\n        placeholder=\"Country name\"\r\n        highlightOnlyResult\r\n        onChange={changeHandler}\r\n        labelKey={labelFormatter}\r\n        align=\"left\"\r\n        maxResults={8}\r\n        flip\r\n      />\r\n  );\r\n};\r\n\r\nfunction labelFormatter(option: FlagInfo) {\r\n  return option.Hun;\r\n}\r\n","import { ChangeEvent, FunctionComponent, memo, useCallback } from \"react\";\r\nimport { Col, Form, Row } from \"react-bootstrap\";\r\nimport { Continent, continents } from \"../../../flagsService/continentList\";\r\n\r\ninterface ContinentSelectorProps {\r\n  className: string;\r\n  continent: Continent | null;\r\n  onContinentSelected: (value: Continent | null) => void;\r\n}\r\n\r\nexport const ContinentSelector: FunctionComponent<ContinentSelectorProps> = memo(({ className, continent, onContinentSelected }) => {\r\n  const onChangeHandler = useCallback((evt: ChangeEvent<HTMLInputElement>) => {\r\n    const value = evt.target.value;\r\n    const newContinent = continents.find(e => e.name === value);\r\n    onContinentSelected(newContinent?.name || null);\r\n  }, [onContinentSelected]);\r\n\r\n  return (\r\n    <Row className={className}>\r\n      {continents.map(e =>\r\n        <Col as=\"label\" xs={2} key={e.name} className={`continent-color-${e.name}`}>\r\n          <Form.Control\r\n            type=\"radio\"\r\n            name=\"continent\"\r\n            value={e.name}\r\n            checked={e.name === continent}\r\n            onChange={onChangeHandler}\r\n            />\r\n          {e.displayName}\r\n        </Col>)}\r\n    </Row>\r\n  );\r\n});\r\n","import { extTable } from \"../common/extendedStore\";\r\nimport { PlayList } from \"./playList\";\r\n\r\nconst table = extTable<PlayList>(\"PlayList\");\r\n\r\n// update logic\r\n(() => {\r\n  const playListPrefix = \"PlayList_\";\r\n  const idGeneratorKey = \"id_generator\";\r\n  const id_generator = localStorage.getItem(idGeneratorKey);\r\n  if (id_generator === null)\r\n    return;\r\n  for (let index = 0; index < localStorage.length; index++) {\r\n    var key = localStorage.key(index);\r\n    if (key === null)\r\n      continue;\r\n    if (!key.startsWith(playListPrefix))\r\n      continue;\r\n    const json = localStorage.getItem(key);\r\n    if (json === null)\r\n      continue;\r\n    const element = JSON.parse(json) as PlayList;\r\n    element.id = 0;\r\n    table.saveElement(element);\r\n    localStorage.removeItem(key);\r\n  }\r\n  localStorage.removeItem(idGeneratorKey);\r\n})();\r\n\r\nfunction getPlayListKeys() {\r\n  return table.getKeys();\r\n}\r\n\r\nfunction getPlayList(key: number) {\r\n  return table.getElementByKey(key);\r\n}\r\n\r\nfunction savePlayList(playList: PlayList) {\r\n  return table.saveElement(playList);\r\n}\r\n\r\nfunction isEmpty() {\r\n  return table.isEmpty();\r\n}\r\n\r\nexport const playListStore = {\r\n  getPlayListKeys,\r\n  getPlayList,\r\n  savePlayList,\r\n  isEmpty\r\n}\r\n","import { flags } from \"./flagList\";\r\n\r\nexport function validateFlags(selectedFlags:string[]) {\r\n  const invalidFlags: string[] = [];\r\n  for (const flag of selectedFlags) {\r\n    if(flags.findIndex(val => val.Pic === flag) === -1) {\r\n      invalidFlags.push(flag);\r\n    }\r\n  }\r\n  return invalidFlags.length > 0 ? invalidFlags : undefined;\r\n}\r\n","import { flags } from \"./flagList\";\r\nimport { FlagChecked, PlayListWithFlag } from \"./playList\";\r\nimport { validateFlags } from \"./validateFlags\";\r\nimport { playListStore } from \"./playListStore\";\r\n\r\nif (playListStore.isEmpty()) {\r\n  // init\r\n  playListStore.savePlayList({\r\n    id: 0,\r\n    name: \"All flags\",\r\n    flags: flags.map(e => e.Pic)\r\n  });\r\n}\r\n\r\nlet list = generateList();\r\n\r\nfunction generateList() {\r\n  const list: PlayListWithFlag[] = [];\r\n  for (const key of playListStore.getPlayListKeys()) {\r\n    const element = playListStore.getPlayList(key);\r\n    if (element === null)\r\n      continue;\r\n    const invalids = validateFlags(element.flags);\r\n    list.push({\r\n      id: element.id,\r\n      name: element.name,\r\n      invalids: invalids,\r\n      flags: expand(element.flags)\r\n    });\r\n  }\r\n  return list;\r\n\r\n}\r\n\r\nexport function expand(flagNames: string[]) {\r\n  const result: FlagChecked[] = [];\r\n  for (let index = 0; index < flags.length; index++) {\r\n    const element = flags[index];\r\n    result.push({\r\n      Eng: element.Eng,\r\n      Hun: element.Hun,\r\n      Pic: element.Pic,\r\n      checked: flagNames.indexOf(element.Pic) !== -1,\r\n      Loc: element.Loc\r\n    });\r\n  }\r\n  return result;\r\n}\r\n\r\nexport const tempBackend = {\r\n  list\r\n};\r\n","import { ChangeEvent, FormEvent, useCallback, useEffect, useState } from \"react\";\r\nimport { FlagChecked, PlayList, PlayListWithFlag } from \"./playList\";\r\nimport { playListStore } from \"./playListStore\";\r\nimport { expand, tempBackend } from \"./templPlayLists\";\r\n\r\nfunction extract(flags: FlagChecked[]): string[] {\r\n  const result: string[] = [];\r\n  for (const flag of flags) {\r\n    if (flag.checked) {\r\n      result.push(flag.Pic);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function usePlayList() {\r\n  const [plList, setPlList] = useState<PlayListWithFlag[]>([]);\r\n  const [selected, setSelected] = useState<PlayListWithFlag | null>(null);\r\n  const [changed, setChanged] = useState(false);\r\n  useEffect(() => {\r\n    if (plList.length === 0) {\r\n      setPlList(tempBackend.list);\r\n      setSelected({\r\n        ...tempBackend.list[0],\r\n        flags: [...tempBackend.list[0].flags]\r\n      });\r\n      setChanged(false);\r\n    }\r\n  }, [plList]);\r\n\r\n  const flagCheckedHandler = useCallback((flag: FlagChecked) => {\r\n    if (selected === null)\r\n      return;\r\n    var newFlag: FlagChecked = { ...flag, checked: !flag.checked };\r\n    var index = selected.flags.indexOf(flag);\r\n    var newSelected: PlayListWithFlag = { ...selected, flags: [...selected.flags.slice(0, index), newFlag, ...selected.flags.slice(index + 1)] };\r\n    setSelected(newSelected);\r\n    setChanged(true);\r\n  }, [selected]);\r\n\r\n  const nameChanged = useCallback((evt: ChangeEvent<HTMLInputElement>) => {\r\n    if (selected === null)\r\n      return;\r\n    setSelected({ ...selected, name: evt.target.value });\r\n    setChanged(true);\r\n  }, [selected]);\r\n\r\n  const newElementHandler = useCallback(() => {\r\n    setSelected({\r\n      id: 0,\r\n      name: \"\",\r\n      flags: expand([])\r\n    });\r\n  }, []);\r\n\r\n  const selectElement = useCallback((selectedId: number) => {\r\n    var selectedElement = plList.find(e => e.id === selectedId);\r\n    if (selectedElement) {\r\n      setSelected(selectedElement);\r\n    }\r\n  }, [plList]);\r\n  const saveHandler = useCallback((evt: FormEvent<HTMLFormElement>) => {\r\n    if (selected === null)\r\n      return;\r\n    evt.preventDefault();\r\n    let newList: PlayListWithFlag[];\r\n    const newSelect: typeof selected = {\r\n      ...selected,\r\n      invalids: undefined\r\n    };\r\n    if (newSelect.id > 0) {\r\n      const index = plList.findIndex(e => e.id === newSelect.id);\r\n      newList = [...plList.slice(0, index), newSelect, ...plList.slice(index + 1)];\r\n    } else {\r\n      newList = [...plList, newSelect];\r\n    }\r\n    newSelect.id = playListStore.savePlayList({\r\n      id: newSelect.id,\r\n      name: newSelect.name,\r\n      flags: extract(newSelect.flags)\r\n    });\r\n    tempBackend.list = newList;\r\n    setPlList(newList);\r\n    setSelected(newSelect);\r\n    setChanged(false);\r\n  }, [selected, plList]);\r\n\r\n  return { plList, selected, flagCheckedHandler, changed, nameChanged, saveHandler, newElementHandler, selectElement };\r\n}\r\n\r\nconst empty: typeof tempBackend.list = [];\r\nexport function useStaticFlagList() {\r\n  const [plList, setPlList] = useState<typeof tempBackend.list>(empty);\r\n  const [selected, setSelected] = useState<PlayList | null>(null);\r\n  useEffect(() => {\r\n    if (plList === empty) {\r\n      setPlList(tempBackend.list);\r\n      setSelected(playListStore.getPlayList(tempBackend.list[0].id));\r\n    }\r\n  }, [plList]);\r\n  const selectPlay = useCallback((selectedId: number) => {\r\n    setSelected(playListStore.getPlayList(selectedId));\r\n  }, []);\r\n  return { plList, selected, selectPlay };\r\n}\r\n","import { FunctionComponent, useCallback } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { PlayListWithFlag } from \"../flagsService/playList\";\r\n\r\ninterface SelectButtonProps {\r\n  playList: PlayListWithFlag;\r\n  selected: boolean;\r\n  onSelected: (selectedId: number) => void;\r\n}\r\n\r\nexport const SelectButton: FunctionComponent<SelectButtonProps> = ({ playList, onSelected, selected }) => {\r\n  const selectHandler = useCallback(() => {\r\n    if (selected)\r\n      return;\r\n    onSelected(playList.id);\r\n  }, [playList, selected, onSelected]);\r\n  return (\r\n    <Button key={playList.id} variant={selected ? \"primary\" : \"info\"} className=\"w-100 mt-1 mb-1\" onClick={selectHandler}>\r\n      {playList.name}\r\n    </Button>\r\n  );\r\n};\r\n","import { Action } from \"../common\";\r\nimport { FlagChecked } from \"../flagsService/playList\";\r\n\r\nexport enum Actions {\r\n  ChangeFilter = \"flagFilter.ChangeFilter\",\r\n  SetFlags = \"flagFilter.SetFlags\",\r\n  ResetFilter = \"flagFilter.ResetFilter\",\r\n}\r\n\r\nexport interface ChangeFilterAction extends Action<typeof Actions.ChangeFilter> {\r\n  searchText: string;\r\n}\r\n\r\nexport interface SetFlagsAction extends Action<typeof Actions.SetFlags> {\r\n  flags: FlagChecked[];\r\n}\r\n\r\nexport interface ResetFilterAction extends Action<typeof Actions.ResetFilter> {\r\n  flags: FlagChecked[] | null;\r\n  selectedId: number;\r\n}\r\n\r\n\r\nexport type FlagFilterActions = ChangeFilterAction | SetFlagsAction | ResetFilterAction;\r\n\r\nexport interface IFlagFilterState {\r\n  searchText: string;\r\n  flags: FlagChecked[];\r\n  filteredFlags: FlagChecked[];\r\n  selectedId: number;\r\n}\r\n","import { FunctionComponent, memo, useEffect } from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { PlayList } from \"../../../flagsService/playList\";\r\nimport { useStaticFlagList } from \"../../../flagsService/usePlayLists\";\r\nimport { SelectButton } from \"../../../ViewComponents\";\r\n\r\ninterface PlaySelectorProps {\r\n  selectedChanged: (selected: PlayList | null) => void;\r\n}\r\n\r\nexport const PlaySelector: FunctionComponent<PlaySelectorProps> = memo(({selectedChanged}) => {\r\n  const { plList, selected, selectPlay } = useStaticFlagList();\r\n\r\n  useEffect(() => {\r\n    selectedChanged(selected);\r\n  }, [selectedChanged, selected]);\r\n\r\n  return (\r\n    <Row>\r\n      {plList.map(playList =>\r\n        <Col xs={6} md={12} key={playList.id}>\r\n          <SelectButton playList={playList} onSelected={selectPlay} selected={selected?.id === playList.id} />\r\n        </Col>\r\n      )}\r\n    </Row>\r\n  );\r\n});\r\n","import { FunctionComponent, memo } from \"react\";\r\nimport { FlagInfo } from \"../../../flagsService/flagList\";\r\nimport { useChangeTracker } from \"../../../common/logChanges\";\r\n\r\ninterface  FlagViewProps {\r\n  flagInfo: FlagInfo;\r\n}\r\n\r\nexport const FlagView: FunctionComponent< FlagViewProps> = memo(({ flagInfo }) => {\r\n  return (\r\n    <img src={`Flags/${flagInfo.Pic}`} className=\"country-flag border\" alt=\"logo\" />\r\n  );\r\n});\r\n","import { FunctionComponent, useState } from \"react\";\r\nimport { Button, Col, Form, InputGroup, Row } from \"react-bootstrap\";\r\nimport { AlertBox } from \"../../alerts\";\r\nimport { flags } from \"../../flagsService/flagList\";\r\nimport { useGame } from \"../../flagsService/useGame\";\r\nimport { CountryAutocomplete } from \"./components/CountryAutocomplete\";\r\nimport { ContinentSelector } from \"./components/ContinentSelector\";\r\nimport { PlaySelector } from \"./components/PlaySelector\";\r\nimport { PlayList } from \"../../flagsService/playList\";\r\nimport { FlagView } from \"./components/FlagView\";\r\n\r\ninterface HomePageProps {\r\n\r\n}\r\n\r\nexport const HomePage: FunctionComponent<HomePageProps> = () => {\r\n\r\n  const [selected, setSelected] = useState<PlayList | null>(null);\r\n  const { input, setInput, guess, pickNew, flagInfo, gameState, guessStep, continent, setContinent } = useGame(selected);\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col xs={{ span: 12, order: 2 }} md={{ span: 2, order: 1 }}>\r\n          <br className=\"d-block d-md-none\" />\r\n          <PlaySelector selectedChanged={setSelected} />\r\n        </Col>\r\n        <Col xs={{ span: 12, order: 1 }} md={{ span: 10, order: 2 }}>\r\n          <div className=\"alert-placeholder\">\r\n            <AlertBox />\r\n          </div>\r\n          <div className=\"pic-placeholder\">\r\n            <FlagView flagInfo={flagInfo} />\r\n          </div>\r\n          <Form onSubmit={guess}>\r\n            <InputGroup className=\"mt-1\">\r\n              <CountryAutocomplete value={input} onValueChanged={setInput} flags={flags} />\r\n              <InputGroup.Append>\r\n                <Button type=\"submit\" variant=\"primary\">{guessStep === 1 ? \"Next\" : \"Check\"} </Button>\r\n                <Button type=\"button\" variant=\"secondary\" onClick={pickNew}>Pick</Button>\r\n              </InputGroup.Append>\r\n            </InputGroup>\r\n            <ContinentSelector className=\"mt-1\" continent={continent} onContinentSelected={setContinent} />\r\n          </Form>\r\n          <br />\r\n          Correct: {gameState.numOfCorrect} Wrong: {gameState.numOfWrong}\r\n          <br />\r\n          Current flag correct: {gameState.flagsState[gameState.lastFlag]?.correct} Wrong: {gameState.flagsState[gameState.lastFlag]?.wrong}\r\n          <br />\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n","import { FlagChecked } from \"../flagsService/playList\";\r\nimport { Actions, FlagFilterActions, IFlagFilterState } from \"./actionsAndState\";\r\n\r\nexport function initFlagFilter(flags: FlagChecked[] | null, selectedId: number = -1): IFlagFilterState {\r\n  if (!flags) {\r\n    flags = [];\r\n  }\r\n  return {\r\n    searchText: \"\",\r\n    flags,\r\n    filteredFlags: flags,\r\n    selectedId\r\n  };\r\n}\r\n\r\nfunction filterFlags(flags:FlagChecked[], searchText: string) {\r\n  var lower = searchText.toLowerCase();\r\n  return flags.filter(e => e.Hun.toLowerCase().indexOf(lower) !== -1);\r\n}\r\n\r\nexport function reducer(state: IFlagFilterState, action: FlagFilterActions): IFlagFilterState {\r\n  switch (action.type) {\r\n    case Actions.ChangeFilter:\r\n      return {\r\n        searchText: action.searchText,\r\n        flags: state.flags,\r\n        selectedId: state.selectedId,\r\n        filteredFlags: filterFlags(state.flags, action.searchText),\r\n      };\r\n    case Actions.ResetFilter:\r\n      return initFlagFilter(action.flags, action.selectedId);\r\n\r\n    case Actions.SetFlags:\r\n      return {\r\n        ...state,\r\n        flags: action.flags,\r\n        filteredFlags: filterFlags(action.flags, state.searchText)\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FunctionComponent, useCallback } from \"react\";\r\nimport { Button, Card, Col } from \"react-bootstrap\";\r\nimport { FlagChecked } from \"../../flagsService/playList\";\r\n\r\ninterface SelectableFlagProps {\r\n  flag: FlagChecked;\r\n  onFlagChecked: (flag: FlagChecked) => void;\r\n}\r\n\r\nexport const SelectableFlag: FunctionComponent<SelectableFlagProps> = ({ flag, onFlagChecked }) => {\r\n  const handleChecked = useCallback(() => {\r\n    onFlagChecked(flag);\r\n  }, [flag, onFlagChecked]);\r\n  return (\r\n    <Col xs={6} md={4} lg={3}>\r\n      <Card>\r\n        <Card.Img variant=\"top\" src={`Flags/${flag.Pic}`} alt=\"logo\" loading=\"lazy\" />\r\n        <Card.Body>\r\n          <Card.Title>{flag.Hun}</Card.Title>\r\n          <Button variant={flag.checked ? \"success\" : \"danger\"}\r\n            onClick={handleChecked}>\r\n            {flag.checked ? \"Selected\" : \"Unselected\"}\r\n          </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  );\r\n};\r\n","import { FunctionComponent } from \"react\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport { FlagChecked } from \"../../flagsService/playList\";\r\nimport { SelectableFlag } from \"./SelectableFlag\";\r\n\r\ninterface SelectableFlagListProps {\r\n  flags: FlagChecked[];\r\n  onFlagChecked: (flag: FlagChecked) => void;\r\n}\r\n\r\nexport const SelectableFlagList: FunctionComponent<SelectableFlagListProps> = ({ flags, onFlagChecked }) => {\r\n  if (flags === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <Row>\r\n      {flags.map(flag => <SelectableFlag key={flag.Pic} flag={flag} onFlagChecked={onFlagChecked} />)}\r\n    </Row>\r\n  );\r\n};\r\n","import { FunctionComponent } from \"react\";\r\nimport { Button, Card, Col, Form, Row } from \"react-bootstrap\";\r\nimport { AlertBox } from \"../../alerts\";\r\nimport { useChangeToSetterHandler } from \"../../common\";\r\nimport { useFlagFilter } from \"../../flagFilter\";\r\nimport { usePlayList } from \"../../flagsService/usePlayLists\";\r\nimport { SelectButton } from \"../../ViewComponents\";\r\nimport { SelectableFlagList } from \"./SelectableFlagList\";\r\n\r\ninterface PlayListsPageProps {\r\n\r\n}\r\n\r\nexport const PlayListsPage: FunctionComponent<PlayListsPageProps> = () => {\r\n  const { plList, selected, flagCheckedHandler, changed, nameChanged, saveHandler, newElementHandler, selectElement } = usePlayList();\r\n  const { searchText, filterFlags, filteredFlags } = useFlagFilter(selected?.flags || null, selected?.id || -1);\r\n  const searchTextChangeHandler = useChangeToSetterHandler(filterFlags);\r\n  return (\r\n    <>\r\n      <AlertBox />\r\n      <Row>\r\n        <Col md={3}>\r\n          <Row>\r\n            {plList.map(value =>\r\n              <Col key={value.id} xs={6} md={12}>\r\n                <SelectButton playList={value} selected={value.id === selected?.id} onSelected={selectElement} />\r\n              </Col>\r\n            )}\r\n          </Row>\r\n          <Button variant=\"Primary\" className=\"w-100\" onClick={newElementHandler}>Add new</Button>\r\n        </Col>\r\n        {selected &&\r\n          <Col>\r\n            <Card>\r\n              <Card.Body>\r\n                <Form inline onSubmit={saveHandler}>\r\n                  <Form.Group>\r\n                    <Form.Label>Name</Form.Label>\r\n                    <Form.Control className=\"mx-2\" value={selected.name} onChange={nameChanged} />\r\n                  </Form.Group>\r\n                  {selected.invalids &&\r\n\r\n                    <Form.Group>\r\n                      <Form.Label>Name</Form.Label>\r\n                      <Form.Control plaintext className=\"mx-2\" readOnly value={JSON.stringify(selected.invalids)} />\r\n                    </Form.Group>\r\n                  }\r\n                  <Button type=\"submit\" variant={changed ? \"primary\" : \"secondary\"} className=\"mx-2\">Save</Button>\r\n                  <Form.Group>\r\n                    <Form.Label>Filter</Form.Label>\r\n                    <Form.Control className=\"mx-2\" value={searchText} onChange={searchTextChangeHandler} />\r\n                  </Form.Group>\r\n                </Form>\r\n              </Card.Body>\r\n            </Card>\r\n            <SelectableFlagList flags={filteredFlags} onFlagChecked={flagCheckedHandler} />\r\n          </Col>\r\n        }\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n","import { useCallback, useEffect, useReducer } from \"react\";\r\nimport { FlagChecked } from \"../flagsService/playList\";\r\nimport { Actions } from \"./actionsAndState\";\r\nimport { initFlagFilter, reducer } from \"./reducer\";\r\n\r\nexport function useFlagFilter(flags: FlagChecked[] | null, selectedId: number) {\r\n  const [state, dispatch] = useReducer(reducer, flags, initFlagFilter);\r\n\r\n  useEffect(() => {\r\n    if (flags && flags.length > 0) {\r\n      if (selectedId !== state.selectedId) {\r\n        dispatch({ type: Actions.ResetFilter, flags, selectedId });\r\n      } else {\r\n        dispatch({ type: Actions.SetFlags, flags });\r\n      }\r\n    }\r\n  }, [flags, selectedId, state.selectedId]);\r\n\r\n  const filterFlags = useCallback((searchText: string) => {\r\n    dispatch({ type: Actions.ChangeFilter, searchText });\r\n  }, []);\r\n\r\n  return {\r\n    filteredFlags: state.filteredFlags,\r\n    filterFlags,\r\n    searchText: state.searchText\r\n  };\r\n}\r\n","import { FunctionComponent } from \"react\";\r\nimport { Navbar, Nav } from 'react-bootstrap';\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\ninterface MainNavbarProps {\r\n\r\n}\r\n\r\nexport const MainNavbar: FunctionComponent<MainNavbarProps> = () => {\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" sticky=\"top\" as=\"header\" collapseOnSelect>\r\n      <Navbar.Brand as={Link} to=\"/\">Flag Game</Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"main-navbar-nav\" />\r\n      <Navbar.Collapse id=\"main-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link as={NavLink} to=\"/\" exact={true} eventKey=\"1\">Game</Nav.Link>\r\n          <Nav.Link as={NavLink} to=\"/playLists\" eventKey=\"2\">Playlists</Nav.Link>\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n","import { Container } from 'react-bootstrap';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Switch, Route } from \"react-router\";\r\nimport { HomePage } from './pages/Home/HomePage';\r\nimport { PlayListsPage } from './pages/Playlists/PlayListsPage';\r\nimport { MainNavbar } from './MainNavbar';\r\nimport { ServiceContextProvider, appServiceCollection } from \"./services\";\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <ServiceContextProvider services={appServiceCollection}>\r\n        <MainNavbar />\r\n        <Container className=\"main\" as=\"main\" role=\"main\" fluid>\r\n          <Switch>\r\n            <Route path=\"/\" exact={true} component={HomePage} />\r\n            <Route path=\"/playLists\" component={PlayListsPage} />\r\n          </Switch>\r\n        </Container>\r\n      </ServiceContextProvider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nif (typeof (localStorage) === \"undefined\") {\r\n  alert(\"Local storage not supported.\");\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}